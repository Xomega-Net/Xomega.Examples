@*
 =============================================================================================
  This file was AUTO-GENERATED by "Blazor Views" Xomega.Net generator.
 
  Manual CHANGES to this file WILL BE LOST when the code is regenerated.
 =============================================================================================
*@

@namespace AdventureWorks.Client.Blazor.Views
@inherits CustomerListViewBase

@if (Visible)
{
<div @ref="MainPanel"
     class="view-composition">
  <div>
    <div class="view with-footer">
      <div class="view-header"><span class="view-title">
          <ViewTitle @ref="TitleComponent" Title="@Model?.ViewTitle"></ViewTitle></span></div>
      <div class="view-body">
        <div class="content indented">
          <Panel Title="Criteria" @bind-Collapsed="@CriteriaCollapsed">
            <div class="xw-obj">
              <table class="xw-fieldset-layout">
                <tr>
                  <td class="fieldColumn" style="width: 50%">
                    <div class="field">
                      <XLabel Property="@VM?.CritObj?.TerritoryIdProperty" Text="Territory Id:"
                              class="label"></XLabel>
                      <XSelect
                               Property="@VM?.CritObj?.TerritoryIdProperty"></XSelect>
                    </div>
                    <div class="field">
                      <XLabel Property="@VM?.CritObj?.PersonNameOperatorProperty" Text="Person Name:"
                              class="label"></XLabel>
                      <XSelect
                               Property="@VM?.CritObj?.PersonNameOperatorProperty"
                               class="operator"></XSelect>
                      <XInputText Property="@VM?.CritObj?.PersonNameProperty"></XInputText>
                    </div>
                  </td>
                  <td class="fieldColumn" style="width: 50%">
                    <div class="field">
                      <XLabel Property="@VM?.CritObj?.StoreNameOperatorProperty" Text="Store Name:"
                              class="label"></XLabel>
                      <XSelect
                               Property="@VM?.CritObj?.StoreNameOperatorProperty"
                               class="operator"></XSelect>
                      <XInputText Property="@VM?.CritObj?.StoreNameProperty"></XInputText>
                    </div>
                    <div class="field">
                      <XLabel Property="@VM?.CritObj?.AccountNumberOperatorProperty"
                              Text="Account Number:"
                              class="label"></XLabel>
                      <XSelect
                               Property="@VM?.CritObj?.AccountNumberOperatorProperty"
                               class="operator"></XSelect>
                      <XInputText
                                  Property="@VM?.CritObj?.AccountNumberProperty"></XInputText>
                    </div>
                  </td>
                </tr>
              </table>
            </div>
          </Panel>
          <Errors ErrorList="@Model?.Errors"></Errors>
          <div class="action-bar">
            <input type="button" value="@SearchText" class="btn-search"
                   @onclick="@OnSearchAsync" />
            <input type="button" value="@ResetText" class="btn-reset" @onclick="@OnResetAsync" />
            <a class="permalink" href="javascript: void(0)" @onclick="@OnPermaLinkAsync">@PermaLinkText</a></div>
          <Pager ItemsCount="@(ListObject?.GetData()?.Count() ?? 0)"
                 @bind-CurrentPage="@CurrentPage"
                 @bind-PageSize="@CurrentPageSize">
            <div style="overflow: auto">
              <table class="grid @SelectableClass(VM?.ListObj)">
                <caption>
                  <Criteria AppliedCriteria="@ListObject?.AppliedCriteria"
                            AppliedCriteriaText="@ListObject?.GetAppliedCriteriaText()"></Criteria>
                </caption>
                <thead>
                  <tr>
                    <ColumnHeader Property="@VM?.ListObj?.StoreIdProperty" Text="Store Id"></ColumnHeader>
                    <ColumnHeader Property="@VM?.ListObj?.StoreNameProperty" Text="Store Name"></ColumnHeader>
                    <ColumnHeader Property="@VM?.ListObj?.PersonIdProperty" Text="Person Id"></ColumnHeader>
                    <ColumnHeader Property="@VM?.ListObj?.PersonNameProperty" Text="Person Name"></ColumnHeader>
                    <ColumnHeader Property="@VM?.ListObj?.AccountNumberProperty" Text="Account Number"></ColumnHeader>
                    <ColumnHeader Property="@VM?.ListObj?.TerritoryIdProperty" Text="Territory Id"></ColumnHeader>
                  </tr>
                </thead>
                <tbody>
                  @foreach (var idx in context)
                  {
                  var row = VM?.ListObj.GetData()[idx];
                  
                  <CascadingValue Value="row">
                    <tr class="@SelectedClass(VM?.ListObj, row)"
                        @onclick="@(() => RowClicked(VM?.ListObj, row))">
                      <td>
                        <XDataLabel Property="@VM?.ListObj?.StoreIdProperty"></XDataLabel>
                      </td>
                      <td>
                        <XDataLabel Property="@VM?.ListObj?.StoreNameProperty"></XDataLabel>
                      </td>
                      <td>
                        <XDataLabel Property="@VM?.ListObj?.PersonIdProperty"></XDataLabel>
                      </td>
                      <td>
                        <XDataLabel Property="@VM?.ListObj?.PersonNameProperty"></XDataLabel>
                      </td>
                      <td>
                        <XDataLabel Property="@VM?.ListObj?.AccountNumberProperty"></XDataLabel>
                      </td>
                      <td>
                        <XDataLabel Property="@VM?.ListObj?.TerritoryIdProperty"></XDataLabel>
                      </td>
                    </tr>
                  </CascadingValue>
                  }
                </tbody>
              </table>
            </div>
          </Pager>
          <div class="action-bar"></div>
        </div>
      </div>
      <div class="view-footer action-bar">
        @if (SelectVisible)
        {
        <input type="button" value="@SelectText" class="btn-select"
               @onclick="@OnSelectAsync" />
        }
        @if (CloseVisible)
        {
        <input type="button" value="@CloseText" class="btn-close" @onclick="@OnCloseAsync" />
        }
      </div>
    </div>
  </div>
  <div></div>
</div>
}